{% extends 'base.html'%}
{% load static %}

{% block head %}
    <!-- Vendor CSS Files -->
      <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
      <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
      <link href="{% static 'vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
      <link href="{% static 'vendor/quill/quill.snow.css' %}" rel="stylesheet">
      <link href="{% static 'vendor/quill/quill.bubble.css' %}" rel="stylesheet">
      <link href="{% static 'vendor/remixicon/remixicon.css' %}" rel="stylesheet">
      <link href="{% static 'vendor/simple-datatables/style.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/createEstate.css' %}">
{% endblock head %}

{% block content%}
<style>
    .form-container{
      margin-top: 100px;
    }
  </style>

    <div class="form-container">
        <form action="{% url 'home-estate' %}">
            <button type="submit" class="btn btn-success"><i class="bi-arrow-left-circle-fill" style="font-size:20px;"></i>
        </button></form>
        {% if form.estate_name.value is None %}
            <h1 style="color: #007bff;">Create Profile</h1>
        {% else %}
            <h1 style="color: #007bff;">Update Profile</h1>
        {% endif %}

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            

            <input type="submit" value="Submit">
        </form>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            $(document).ready(function() {
            $('#id_country').change(function() {
                var countryId = $(this).val();
                if (countryId) {
                    $.ajax({
                        url: "{% url 'get-states' %}",
                        data: {
                            'country_id': countryId
                        },
                        success: function(data) {
                            var options = '<option value="">Select a state</option>';
                            for (var i = 0; i < data.length; i++) {
                                options += '<option value="' + data[i].id + '">' + data[i].name + '</option>';
                            }
                            $('#id_state').html(options);
                        }
                    });
                } else {
                    $('#id_state').empty();
                }
            });
        });
    
        </script>
    </div>
    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    {% block script %}
            <!-- Vendor JS Files -->
          <script src="{% static 'vendor/apexcharts/apexcharts.min.js' %}"></script>
          <script src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
          <script src="{% static 'vendor/chart.js/chart.umd.js' %}"></script>
          <script src="{% static 'vendor/echarts/echarts.min.js' %}"></script>
          <script src="{% static 'vendor/quill/quill.js' %}"></script>
          <script src="{% static 'vendor/simple-datatables/simple-datatables.js' %}"></script>
          <script src="{% static 'vendor/tinymce/tinymce.min.js' %}"></script>
          <script src="{% static 'vendor/php-email-form/validate.js' %}"></script>
    {% endblock script %}

{% endblock content%}